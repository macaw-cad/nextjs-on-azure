{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\projects\\\\jss\\\\nextjsonazure\\\\packages\\\\jss-nextjs-app\\\\src\\\\components\\\\styleguide\\\\Styleguide-Tracking.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { withSitecoreContext } from '@sitecore-jss/sitecore-jss-nextjs';\nimport { trackingApi } from '@sitecore-jss/sitecore-jss-tracking';\nimport { dataFetcher } from 'lib/data-fetcher';\nimport config from 'temp/config';\nimport StyleguideSpecimen from './Styleguide-Specimen';\n\n/**\r\n * Demonstrates analytics tracking patterns (xDB)\r\n */\nclass StyleguideTracking extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"event\", void 0);\n\n    _defineProperty(this, \"goal\", void 0);\n\n    _defineProperty(this, \"outcomeName\", void 0);\n\n    _defineProperty(this, \"outcomeValue\", void 0);\n\n    _defineProperty(this, \"campaign\", void 0);\n\n    _defineProperty(this, \"pageId\", void 0);\n\n    _defineProperty(this, \"pageUrl\", void 0);\n\n    _defineProperty(this, \"trackingApiOptions\", void 0);\n\n    this.event = /*#__PURE__*/React.createRef();\n    this.goal = /*#__PURE__*/React.createRef();\n    this.outcomeName = /*#__PURE__*/React.createRef();\n    this.outcomeValue = /*#__PURE__*/React.createRef();\n    this.campaign = /*#__PURE__*/React.createRef();\n    this.pageId = /*#__PURE__*/React.createRef();\n    this.pageUrl = /*#__PURE__*/React.createRef();\n    this.trackingApiOptions = {\n      host: config.sitecoreApiHost,\n      querystringParams: {\n        sc_apikey: config.sitecoreApiKey\n      },\n      fetcher: dataFetcher\n    };\n  }\n\n  submitEvent() {\n    if (!this.event.current) return;\n    trackingApi.trackEvent([{\n      eventId: this.event.current.value\n    }], this.trackingApiOptions).then(() => alert('Page event pushed')).catch(error => alert(error));\n  }\n\n  submitGoal() {\n    if (!this.goal.current) return;\n    trackingApi.trackEvent([{\n      goalId: this.goal.current.value\n    }], this.trackingApiOptions).then(() => alert('Goal pushed')).catch(error => alert(error));\n  }\n\n  submitOutcome() {\n    if (!this.pageUrl.current || !this.pageId.current || !this.outcomeName.current || !this.outcomeValue.current) {\n      return;\n    }\n\n    trackingApi.trackEvent([{\n      url: this.pageUrl.current.value,\n      pageId: this.pageId.current.value,\n      outcomeId: this.outcomeName.current.value,\n      currencyCode: 'USD',\n      monetaryValue: this.outcomeValue.current.value\n    }], this.trackingApiOptions).then(() => alert('Outcome pushed')).catch(error => alert(error));\n  }\n\n  triggerCampaign() {\n    if (!this.campaign.current) return;\n    trackingApi.trackEvent([{\n      campaignId: this.campaign.current.value\n    }], this.trackingApiOptions).then(() => alert('Campaign set')).catch(error => alert(error));\n  }\n\n  submitPageView() {\n    if (!this.pageId.current || !this.pageUrl.current) return;\n    trackingApi.trackEvent([{\n      pageId: this.pageId.current.value,\n      url: this.pageUrl.current.value\n    }], this.trackingApiOptions).then(() => alert('Page view pushed')).catch(error => alert(error));\n  }\n\n  abandonSession() {\n    const abandonOptions = _objectSpread({\n      action: 'flush'\n    }, this.trackingApiOptions);\n\n    trackingApi.trackEvent([], abandonOptions).then(() => alert('Interaction has been terminated and its data pushed to xConnect.')).catch(error => alert(error));\n  }\n\n  submitBatching() {\n    trackingApi.trackEvent([{\n      eventId: 'Download'\n    }, {\n      goalId: 'Instant Demo'\n    }, {\n      outcomeId: 'Opportunity'\n    }, {\n      pageId: '{110D559F-DEA5-42EA-9C1C-8A5DF7E70EF9}',\n      url: '/arbitrary/url/you/own'\n    }, // this goal will be added to the new page/route ID set above, not the current route\n    {\n      goalId: 'Register'\n    }], this.trackingApiOptions).then(() => alert('Batch of events pushed')).catch(error => alert(error));\n  }\n\n  render() {\n    const disconnectedMode = this.props.sitecoreContext.itemId === 'available-in-connected-mode';\n    return /*#__PURE__*/_jsxDEV(StyleguideSpecimen, _objectSpread(_objectSpread({}, this.props), {}, {\n      e2eId: \"styleguide-tracking\",\n      children: [disconnectedMode && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"The tracking API is only available in connected, integrated, or headless modes.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), !disconnectedMode && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert alert-warning\",\n          children: [\"Note: The JSS tracker API is disabled by default. Consult the\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"https://jss.sitecore.com/docs/fundamentals/services/tracking\",\n            children: \"tracking documentation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this), ' ', \"to enable it.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group col-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n              children: \"Event\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Events are defined in \", /*#__PURE__*/_jsxDEV(\"code\", {\n                children: \"/sitecore/system/Settings/Analytics/Page Events\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"event\",\n              children: \"Event GUID or Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"event\",\n              className: \"form-control\",\n              ref: this.event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary mt-3\",\n              onClick: this.submitEvent.bind(this),\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group col-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n              children: \"Goal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Goals are defined in \", /*#__PURE__*/_jsxDEV(\"code\", {\n                children: \"/sitecore/system/Marketing Control Panel/Goals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 40\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"goal\",\n              children: \"Goal GUID or Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"goal\",\n              ref: this.goal,\n              placeholder: \"i.e. Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary mt-3\",\n              onClick: this.submitGoal.bind(this),\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group col-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n              children: \"Outcome\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Outcomes are defined in\", ' ', /*#__PURE__*/_jsxDEV(\"code\", {\n                children: \"/sitecore/system/Marketing Control Panel/Outcomes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"outcomeName\",\n              children: \"Outcome GUID or Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"outcomeName\",\n              ref: this.outcomeName,\n              placeholder: \"i.e. Marketing Lead\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"outcomeValue\",\n              children: \"Monetary Value (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              id: \"outcomeValue\",\n              ref: this.outcomeValue,\n              placeholder: \"i.e. 1337.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary mt-3\",\n              onClick: this.submitOutcome.bind(this),\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group col-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n              children: \"Campaign\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Campaigns are defined in\", ' ', /*#__PURE__*/_jsxDEV(\"code\", {\n                children: \"/sitecore/system/Marketing Control Panel/Campaigns\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"campaign\",\n              children: \"Campaign GUID or Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"campaign\",\n              ref: this.campaign\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary mt-3\",\n              onClick: this.triggerCampaign.bind(this),\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group col-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n              children: \"Page View\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Track arbitrary page views for custom routing or offline use. Note that Layout Service tracks page views by default unless \", /*#__PURE__*/_jsxDEV(\"code\", {\n                children: \"tracking=false\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 63\n              }, this), \" is passed in its query string.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"pageId\",\n              children: \"Page Item GUID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"pageId\",\n              ref: this.pageId,\n              placeholder: \"i.e. {11111111-1111-1111-1111-111111111111}\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"pageUrl\",\n              children: \"Page URL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"pageUrl\",\n              ref: this.pageUrl,\n              placeholder: \"i.e. /foo/bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary mt-3\",\n              onClick: this.submitPageView.bind(this),\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group col-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n              children: \"Batching\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"The tracking API supports pushing a whole batch of events in a single request. This can be useful for queuing strategies or offline PWA usage.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary\",\n              onClick: this.submitBatching.bind(this),\n              children: \"Submit Batch of Events\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group col-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n              children: \"Interaction Control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Tracking data is not pushed into the xConnect service until your session ends on the Sitecore server. Click this button to instantly end your session and flush the data - great for debugging and testing.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"alert alert-warning\",\n              children: [\"Note: By default \", /*#__PURE__*/_jsxDEV(\"em\", {\n                children: \"anonymous\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 36\n              }, this), \" contacts will not be shown in Experience Profile. If your interactions are not showing up in Experience Profile, you may need to\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"https://doc.sitecore.net/developers/xp/xconnect/xconnect-search-indexer/enable-anonymous-contact-indexing.html\",\n                children: \"enable anonymous contact indexing.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary\",\n              onClick: this.abandonSession.bind(this),\n              children: \"End Interaction\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this)]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default withSitecoreContext()(StyleguideTracking);","map":{"version":3,"sources":["D:/projects/jss/nextjsonazure/packages/jss-nextjs-app/src/components/styleguide/Styleguide-Tracking.tsx"],"names":["React","withSitecoreContext","trackingApi","dataFetcher","config","StyleguideSpecimen","StyleguideTracking","Component","constructor","props","event","createRef","goal","outcomeName","outcomeValue","campaign","pageId","pageUrl","trackingApiOptions","host","sitecoreApiHost","querystringParams","sc_apikey","sitecoreApiKey","fetcher","submitEvent","current","trackEvent","eventId","value","then","alert","catch","error","submitGoal","goalId","submitOutcome","url","outcomeId","currencyCode","monetaryValue","triggerCampaign","campaignId","submitPageView","abandonSession","abandonOptions","action","submitBatching","render","disconnectedMode","sitecoreContext","itemId","bind"],"mappings":"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","sourcesContent":["import React, { RefObject } from 'react';\r\nimport { withSitecoreContext } from '@sitecore-jss/sitecore-jss-nextjs';\r\nimport { trackingApi } from '@sitecore-jss/sitecore-jss-tracking';\r\nimport { dataFetcher } from 'lib/data-fetcher';\r\nimport config from 'temp/config';\r\nimport StyleguideSpecimen from './Styleguide-Specimen';\r\nimport { TrackingRequestOptions } from '@sitecore-jss/sitecore-jss-tracking/types/trackingRequestOptions';\r\nimport { StyleguideComponentWithContextProps, StyleguideSpecimenFields } from 'lib/component-props';\r\n\r\n/* eslint-disable no-alert,no-undef */\r\n\r\ntype StyleguideTrackingProps = StyleguideComponentWithContextProps & StyleguideSpecimenFields;\r\n\r\n/**\r\n * Demonstrates analytics tracking patterns (xDB)\r\n */\r\nclass StyleguideTracking extends React.Component<StyleguideTrackingProps> {\r\n  private event: RefObject<HTMLInputElement>;\r\n  private goal: RefObject<HTMLInputElement>;\r\n  private outcomeName: RefObject<HTMLInputElement>;\r\n  private outcomeValue: RefObject<HTMLInputElement>;\r\n  private campaign: RefObject<HTMLInputElement>;\r\n  private pageId: RefObject<HTMLInputElement>;\r\n  private pageUrl: RefObject<HTMLInputElement>;\r\n\r\n  private trackingApiOptions: TrackingRequestOptions;\r\n\r\n  constructor(props: StyleguideTrackingProps) {\r\n    super(props);\r\n\r\n    this.event = React.createRef();\r\n    this.goal = React.createRef();\r\n    this.outcomeName = React.createRef();\r\n    this.outcomeValue = React.createRef();\r\n    this.campaign = React.createRef();\r\n    this.pageId = React.createRef();\r\n    this.pageUrl = React.createRef();\r\n\r\n    this.trackingApiOptions = {\r\n      host: config.sitecoreApiHost,\r\n      querystringParams: {\r\n        sc_apikey: config.sitecoreApiKey,\r\n      },\r\n      fetcher: dataFetcher,\r\n    };\r\n  }\r\n\r\n  submitEvent() {\r\n    if (!this.event.current) return;\r\n\r\n    trackingApi\r\n      .trackEvent([{ eventId: this.event.current.value }], this.trackingApiOptions)\r\n      .then(() => alert('Page event pushed'))\r\n      .catch((error) => alert(error));\r\n  }\r\n\r\n  submitGoal() {\r\n    if (!this.goal.current) return;\r\n\r\n    trackingApi\r\n      .trackEvent([{ goalId: this.goal.current.value }], this.trackingApiOptions)\r\n      .then(() => alert('Goal pushed'))\r\n      .catch((error) => alert(error));\r\n  }\r\n\r\n  submitOutcome() {\r\n    if (\r\n      !this.pageUrl.current ||\r\n      !this.pageId.current ||\r\n      !this.outcomeName.current ||\r\n      !this.outcomeValue.current\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    trackingApi\r\n      .trackEvent(\r\n        [\r\n          {\r\n            url: this.pageUrl.current.value,\r\n            pageId: this.pageId.current.value,\r\n            outcomeId: this.outcomeName.current.value,\r\n            currencyCode: 'USD',\r\n            monetaryValue: this.outcomeValue.current.value,\r\n          },\r\n        ],\r\n        this.trackingApiOptions\r\n      )\r\n      .then(() => alert('Outcome pushed'))\r\n      .catch((error) => alert(error));\r\n  }\r\n\r\n  triggerCampaign() {\r\n    if (!this.campaign.current) return;\r\n\r\n    trackingApi\r\n      .trackEvent([{ campaignId: this.campaign.current.value }], this.trackingApiOptions)\r\n      .then(() => alert('Campaign set'))\r\n      .catch((error) => alert(error));\r\n  }\r\n\r\n  submitPageView() {\r\n    if (!this.pageId.current || !this.pageUrl.current) return;\r\n\r\n    trackingApi\r\n      .trackEvent(\r\n        [\r\n          {\r\n            pageId: this.pageId.current.value,\r\n            url: this.pageUrl.current.value,\r\n          },\r\n        ],\r\n        this.trackingApiOptions\r\n      )\r\n      .then(() => alert('Page view pushed'))\r\n      .catch((error) => alert(error));\r\n  }\r\n\r\n  abandonSession() {\r\n    const abandonOptions = {\r\n      action: 'flush',\r\n      ...this.trackingApiOptions,\r\n    };\r\n\r\n    trackingApi\r\n      .trackEvent([], abandonOptions)\r\n      .then(() => alert('Interaction has been terminated and its data pushed to xConnect.'))\r\n      .catch((error) => alert(error));\r\n  }\r\n\r\n  submitBatching() {\r\n    trackingApi\r\n      .trackEvent(\r\n        [\r\n          { eventId: 'Download' },\r\n          { goalId: 'Instant Demo' },\r\n          { outcomeId: 'Opportunity' },\r\n          {\r\n            pageId: '{110D559F-DEA5-42EA-9C1C-8A5DF7E70EF9}',\r\n            url: '/arbitrary/url/you/own',\r\n          },\r\n          // this goal will be added to the new page/route ID set above, not the current route\r\n          { goalId: 'Register' },\r\n        ],\r\n        this.trackingApiOptions\r\n      )\r\n      .then(() => alert('Batch of events pushed'))\r\n      .catch((error) => alert(error));\r\n  }\r\n\r\n  render() {\r\n    const disconnectedMode = this.props.sitecoreContext.itemId === 'available-in-connected-mode';\r\n\r\n    return (\r\n      <StyleguideSpecimen {...this.props} e2eId=\"styleguide-tracking\">\r\n        {disconnectedMode && (\r\n          <p>The tracking API is only available in connected, integrated, or headless modes.</p>\r\n        )}\r\n        {!disconnectedMode && (\r\n          <div>\r\n            <p className=\"alert alert-warning\">\r\n              Note: The JSS tracker API is disabled by default. Consult the{' '}\r\n              <a href=\"https://jss.sitecore.com/docs/fundamentals/services/tracking\">\r\n                tracking documentation\r\n              </a>{' '}\r\n              to enable it.\r\n            </p>\r\n            <div className=\"row\">\r\n              <fieldset className=\"form-group col-sm\">\r\n                <legend>Event</legend>\r\n                <p>\r\n                  Events are defined in <code>/sitecore/system/Settings/Analytics/Page Events</code>\r\n                </p>\r\n                <label htmlFor=\"event\">Event GUID or Name</label>\r\n                <input type=\"text\" id=\"event\" className=\"form-control\" ref={this.event} />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary mt-3\"\r\n                  onClick={this.submitEvent.bind(this)}\r\n                >\r\n                  Submit\r\n                </button>\r\n              </fieldset>\r\n\r\n              <fieldset className=\"form-group col-sm\">\r\n                <legend>Goal</legend>\r\n                <p>\r\n                  Goals are defined in <code>/sitecore/system/Marketing Control Panel/Goals</code>\r\n                </p>\r\n                <label htmlFor=\"goal\">Goal GUID or Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"goal\"\r\n                  ref={this.goal}\r\n                  placeholder=\"i.e. Register\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary mt-3\"\r\n                  onClick={this.submitGoal.bind(this)}\r\n                >\r\n                  Submit\r\n                </button>\r\n              </fieldset>\r\n            </div>\r\n            <div className=\"row\">\r\n              <fieldset className=\"form-group col-sm\">\r\n                <legend>Outcome</legend>\r\n                <p>\r\n                  Outcomes are defined in{' '}\r\n                  <code>/sitecore/system/Marketing Control Panel/Outcomes</code>\r\n                </p>\r\n                <label htmlFor=\"outcomeName\">Outcome GUID or Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"outcomeName\"\r\n                  ref={this.outcomeName}\r\n                  placeholder=\"i.e. Marketing Lead\"\r\n                />\r\n                <br />\r\n                <label htmlFor=\"outcomeValue\">Monetary Value (optional)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"form-control\"\r\n                  id=\"outcomeValue\"\r\n                  ref={this.outcomeValue}\r\n                  placeholder=\"i.e. 1337.00\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary mt-3\"\r\n                  onClick={this.submitOutcome.bind(this)}\r\n                >\r\n                  Submit\r\n                </button>\r\n              </fieldset>\r\n\r\n              <fieldset className=\"form-group col-sm\">\r\n                <legend>Campaign</legend>\r\n                <p>\r\n                  Campaigns are defined in{' '}\r\n                  <code>/sitecore/system/Marketing Control Panel/Campaigns</code>\r\n                </p>\r\n                <label htmlFor=\"campaign\">Campaign GUID or Name</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"campaign\" ref={this.campaign} />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary mt-3\"\r\n                  onClick={this.triggerCampaign.bind(this)}\r\n                >\r\n                  Submit\r\n                </button>\r\n              </fieldset>\r\n            </div>\r\n            <div className=\"row\">\r\n              <fieldset className=\"form-group col-sm\">\r\n                <legend>Page View</legend>\r\n                <p>\r\n                  Track arbitrary page views for custom routing or offline use. Note that Layout\r\n                  Service tracks page views by default unless <code>tracking=false</code> is passed\r\n                  in its query string.\r\n                </p>\r\n                <label htmlFor=\"pageId\">Page Item GUID</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"pageId\"\r\n                  ref={this.pageId}\r\n                  placeholder=\"i.e. {11111111-1111-1111-1111-111111111111}\"\r\n                />\r\n                <br />\r\n                <label htmlFor=\"pageUrl\">Page URL</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"pageUrl\"\r\n                  ref={this.pageUrl}\r\n                  placeholder=\"i.e. /foo/bar\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary mt-3\"\r\n                  onClick={this.submitPageView.bind(this)}\r\n                >\r\n                  Submit\r\n                </button>\r\n              </fieldset>\r\n\r\n              <fieldset className=\"form-group col-sm\">\r\n                <legend>Batching</legend>\r\n                <p>\r\n                  The tracking API supports pushing a whole batch of events in a single request.\r\n                  This can be useful for queuing strategies or offline PWA usage.\r\n                </p>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  onClick={this.submitBatching.bind(this)}\r\n                >\r\n                  Submit Batch of Events\r\n                </button>\r\n              </fieldset>\r\n            </div>\r\n            <div className=\"row\">\r\n              <fieldset className=\"form-group col-sm\">\r\n                <legend>Interaction Control</legend>\r\n                <p>\r\n                  Tracking data is not pushed into the xConnect service until your session ends on\r\n                  the Sitecore server. Click this button to instantly end your session and flush the\r\n                  data - great for debugging and testing.\r\n                </p>\r\n                <p className=\"alert alert-warning\">\r\n                  Note: By default <em>anonymous</em> contacts will not be shown in Experience\r\n                  Profile. If your interactions are not showing up in Experience Profile, you may\r\n                  need to{' '}\r\n                  <a href=\"https://doc.sitecore.net/developers/xp/xconnect/xconnect-search-indexer/enable-anonymous-contact-indexing.html\">\r\n                    enable anonymous contact indexing.\r\n                  </a>\r\n                </p>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  onClick={this.abandonSession.bind(this)}\r\n                >\r\n                  End Interaction\r\n                </button>\r\n              </fieldset>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </StyleguideSpecimen>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSitecoreContext()(StyleguideTracking);\r\n"]},"metadata":{},"sourceType":"module"}